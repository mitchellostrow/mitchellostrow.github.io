document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelectorAll(".album-item"),e=document.getElementById("shuffle-button");t.forEach((t=>{const e=t.dataset.spotifyUrl;if(e){const n=`https://open.spotify.com/oembed?url=${encodeURIComponent(e)}`;fetch(n).then((t=>t.json())).then((e=>{const n=t.querySelector(".album-cover");n&&e.thumbnail_url&&(n.src=e.thumbnail_url)})).catch((()=>{}))}})),t.forEach((e=>{const n=e.querySelector(".album-info");n&&n.addEventListener("click",(()=>{t.forEach((t=>{t!==e&&t.classList.remove("active")})),e.classList.toggle("active")}))}));const n=document.getElementById("album-modal"),o=document.querySelector(".close-button"),l=document.getElementById("modal-album-cover"),a=document.getElementById("modal-album-title"),c=document.getElementById("modal-album-artist"),m=document.getElementById("modal-album-review"),d=document.getElementById("modal-spotify-link");e&&e.addEventListener("click",(()=>{if("undefined"!=typeof albumsData&&albumsData.length>0){const t=albumsData[Math.floor(Math.random()*albumsData.length)];a.textContent=t.title,c.textContent=t.artist,m.textContent=t.review,d.href=t.spotify_url;const e=`https://open.spotify.com/oembed?url=${encodeURIComponent(t.spotify_url)}`;fetch(e).then((t=>t.json())).then((t=>{t.thumbnail_url&&(l.src=t.thumbnail_url)})).catch((()=>{})),n.style.display="block"}})),o&&o.addEventListener("click",(()=>{n.style.display="none"})),window.addEventListener("click",(t=>{t.target==n&&(n.style.display="none")}))}));